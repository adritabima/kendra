<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adrita bima kendra</title>
    <style>
        body {
            margin: 0;
            font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            background-color: #f5f6f8;
            color: #333;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Header sits over the hero so the image reaches the very top */
        header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 30;
            background: transparent;
            padding: 14px 0;
            font-weight: 600;
        }
        marquee {
            font-size: 18px;
            letter-spacing: 1px;
            color: #fff;
        }
        /* Highlight badge inside top marquee */
        .marquee-badge {
            display: inline-block;
            background: linear-gradient(90deg,#ffd700 0%, #ffcf33 60%);
            color: #111;
            padding: 8px 18px;
            border-radius: 28px;
            font-weight: 700;
            text-transform: uppercase;
            box-shadow: 0 8px 22px rgba(12,18,30,0.18);
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            transform-origin: center;
            animation: badgePulse 3.6s ease-in-out infinite;
        }
        .marquee-badge::after {
            content: "";
            position: absolute;
            top: 0;
            left: -60%;
            width: 60%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100%);
            transform: skewX(-20deg);
            filter: blur(8px);
            opacity: 0.9;
            animation: badgeShine 3.2s linear infinite;
        }
        .marquee-badge:hover { transform: scale(1.06); }

        @keyframes badgePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        @keyframes badgeShine {
            0% { left: -60%; }
            60% { left: 120%; }
            100% { left: 120%; }
        }
        @media (prefers-reduced-motion: reduce) {
            .marquee-badge { animation: none; }
            .marquee-badge::after { animation: none; }
        }
        /* Navigation sits under the header (keeps page flow) */
        nav {
            background-color: rgba(34,34,34,0.85);
            padding: 12px;
            text-align: center;
            margin-top: 70px;
            position: relative;
            z-index: 20;
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
        }
        nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 18px;
            font-size: 15px;
            letter-spacing: .2px;
            display: inline-block;
            padding: 6px 8px;
            border-radius: 4px;
        }
        nav a:hover {
            color: #ffd700;
            background: rgba(255,255,255,0.02);
        }
        /* Login button in navigation */
        .login-btn {
            background: #ffd700;
            color: #111;
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 6px;
            margin-left: 18px;
            font-weight: 700;
            display: inline-block;
            box-shadow: 0 6px 18px rgba(0,0,0,0.12);
        }
        .login-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 26px rgba(0,0,0,0.14);
            color: #111;
        }
        /* Hero as large background image with overlay for readable text */
        .hero {
            position: relative;
            background-image: url("Kuntal.jpg");
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            min-height: 85vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 80px 20px;
            text-align: center;
            color: #fff;
        }
        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0,0,0,0.45) 0%, rgba(0,0,0,0.45) 100%);
            z-index: 0;
        }
        .hero h1 {
            position: relative;
            z-index: 1;
            color: #fff;
            font-size: 48px;
            margin-bottom: 12px;
            text-shadow: 0 8px 30px rgba(0,0,0,0.5);
            line-height: 1.03;
        }
        .hero p {
            position: relative;
            z-index: 1;
            font-size: 20px;
            max-width: 920px;
            margin: 0 auto;
            color: rgba(255,255,255,0.95);
        }
        /* Image marquee — polished corporate style */
        .image-marquee {
            overflow: hidden;
            background: #ffffff;
            padding: 36px 0;
        }
        .image-marquee .marquee-track {
            display: flex;
            gap: 28px;
            align-items: center;
            will-change: transform;
            animation: marquee 24s linear infinite;
            padding-left: 6px;
        }
        .image-marquee .marquee-track img {
            width: 520px;
            height: 320px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 12px 36px rgba(2,6,23,0.12);
            border: 1px solid rgba(0,0,0,0.06);
            background: #f6f7f9;
            transition: transform .36s ease, box-shadow .36s ease, filter .36s ease;
            filter: grayscale(12%) contrast(0.98) saturate(0.95) brightness(0.98);
            display: block;
        }
        .image-marquee:hover .marquee-track { animation-play-state: paused; }
        .image-marquee .marquee-track img:hover {
            transform: scale(1.045);
            filter: none;
            box-shadow: 0 22px 54px rgba(2,6,23,0.18);
        }
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        /* Responsive adjustments */
        @media (max-width: 1100px) {
            .image-marquee .marquee-track img { width: 420px; height: 260px; }
            .hero h1 { font-size: 40px; }
        }
        @media (max-width: 760px) {
            nav { margin-top: 64px; }
            .hero { min-height: 62vh; padding: 56px 16px; }
            .hero h1 { font-size: 32px; }
            .hero p { font-size: 16px; }
            .image-marquee .marquee-track img { width: 320px; height: 200px; }
        }
        @media (max-width: 420px) {
            .image-marquee .marquee-track img { width: 260px; height: 160px; }
            .hero h1 { font-size: 24px; }
            .hero p { font-size: 14px; }
        }
        @media (prefers-reduced-motion: reduce) {
            .image-marquee .marquee-track { animation: none; }
        }
        .services {
            padding: 40px 20px;
            background-color: #fafafa;
        }
        .services h2 {
            text-align: center;
            color: #b8860b;
            margin-bottom: 30px;
        }
        .service-box {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .service {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            width: 250px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        footer {
            background-color: #222;
            color: #fff;
            text-align: center;
            padding: 15px;
            margin-top: 30px;
        }
        /* Contact modal styles */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.55);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 120;
            padding: 20px;
        }
        .modal-overlay.open { display: flex; }
        .modal {
            background: #fff;
            width: 100%;
            max-width: 520px;
            border-radius: 12px;
            box-shadow: 0 18px 60px rgba(2,6,23,0.3);
            overflow: hidden;
            transform: translateY(-6px);
            animation: modalPop .18s ease-out;
        }
        @keyframes modalPop { from { opacity: 0; transform: translateY(-12px) scale(.995);} to { opacity: 1; transform: translateY(0) scale(1);} }
        .modal-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 18px;
            background: linear-gradient(90deg,#ffd700,#ffcf33);
        }
        .modal-logo { width: 52px; height: 52px; border-radius: 8px; background: #fff; display:flex;align-items:center;justify-content:center; font-weight:800; color:#b8860b; font-size:20px; }
        .modal-title { font-weight:700; color:#222; }
        .modal-body { padding: 18px; color: #222; background: #fff; }
        .contact-item { display:flex; gap:12px; align-items:flex-start; margin-bottom:12px; }
        .contact-item strong { min-width: 84px; display:inline-block; color:#444; }
        .contact-links a { color:#0a58ca; text-decoration:none; }
        .modal-close { position:absolute; right:10px; top:10px; background:transparent;border:0;font-size:22px;color:#222; cursor:pointer; }
        @media (max-width:420px){ .modal { max-width: 92%; } .modal-header { padding:12px; } }
            /* Calculator styles */
            .calc-section {
                background: linear-gradient(180deg,#fff,#fffaf0);
                max-width: 980px;
                margin: 28px auto;
                padding: 22px;
                border-radius: 14px;
                box-shadow: 0 18px 40px rgba(12,18,30,0.06);
                border: 1px solid rgba(184,134,11,0.06);
            }

            .calc-header { display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px; }
            .calc-title { font-size:20px;color:#b8860b;font-weight:800; display:flex; align-items:center; gap:8px; }
            .approx-badge { font-size:12px; color:#555; background: #fff7e1; padding:4px 8px; border-radius:12px; border:1px solid rgba(0,0,0,0.04); box-shadow: 0 6px 18px rgba(2,6,23,0.04); }

            .calc-grid { display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
            @media (max-width:720px){ .calc-grid { grid-template-columns: 1fr; } }

            .calc-card { padding:14px; border-radius:10px; background: #ffffff; border:1px solid rgba(0,0,0,0.04); box-shadow: 0 8px 24px rgba(2,6,23,0.04); }

            .toggle-wrap { display:flex; gap:8px; }
            .toggle-btn { padding:8px 12px; border-radius:8px; cursor:pointer; background:#f5f5f7; border:1px solid rgba(0,0,0,0.04); font-weight:700; }
            .toggle-btn.active { background: linear-gradient(90deg,#ffd700,#ffcf33); color:#111; box-shadow:0 8px 20px rgba(0,0,0,0.06); }

            label { display:block; font-size:13px; color:#444; margin-bottom:6px; }
            input[type="number"], input[type="text"] { width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.08); font-size:15px; }

            .result-item { display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px dashed rgba(0,0,0,0.04); }
            .result-item:last-child { border-bottom: none; }
            .result-value { font-weight:800; color:#111; }

            .calc-actions { margin-top:12px; display:flex; gap:8px; }
            .btn { padding:8px 12px; border-radius:8px; cursor:pointer; border:0; font-weight:700; }
            .btn-primary { background:#b8860b; color:#fff; }
            .btn-ghost { background:transparent; border:1px solid rgba(0,0,0,0.06); }

            /* Chart */
            .chart-wrap { margin-top:14px; }
            .chart-row { display:flex; align-items:center; gap:12px; margin-bottom:10px; }
            .chart-label { width:120px; font-size:13px; color:#444; }
            .chart-bar-bg { flex:1; background: #f1f3f5; height:18px; border-radius:10px; overflow:hidden; border:1px solid rgba(0,0,0,0.03); }
            .chart-bar { height:100%; background: linear-gradient(90deg,#ffd700,#ffcf33); width:0%; transition: width .35s ease; }
            .chart-bar.gain { background: linear-gradient(90deg,#8bc34a,#4caf50); }
            .chart-value { width:92px; text-align:right; font-weight:700; color:#111; font-size:13px; }
            /* Pie (donut) */
            .pie-wrap { display:flex; justify-content:center; align-items:center; margin-top:14px; }
            .pie-card { display:flex; gap:18px; align-items:center; justify-content:center; }
            .pie-svg { width:160px; height:160px; filter: drop-shadow(0 8px 18px rgba(2,6,23,0.08)); }
            .pie-center { display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px; }
            .pie-total { font-weight:800; color:#222; font-size:14px; }
            .pie-sub { font-size:12px; color:#666; }
            /* 3D illusion using ellipse shadow */
            .pie-shadow { width:160px; height:16px; background: radial-gradient(ellipse at center, rgba(0,0,0,0.12), rgba(0,0,0,0.02)); border-radius:50%; margin-top:6px; }
    </style>
</head>
<body>

    <!-- Top Marquee Header -->
    <header>
        <marquee direction="left" scrollamount="6" aria-label="Top marquee">
            <span class="marquee-badge">WELCOME TO ADRITA BIMA KENDRA</span>
        </marquee>
    </header>

    <!-- Navigation -->
    <nav>
        <a href="#">Home</a>
        <a href="about.html" onclick="window.open('about.html','AboutAdrita','width=700,height=600,scrollbars=yes'); return false;">About Us</a>
        <a href="services.html" onclick="window.open('services.html','ServicesAdrita','width=700,height=600,scrollbars=yes'); return false;">Services</a>
        <a href="#" id="contact-btn">Contact</a>
        <a href="login.html" class="login-btn">Login</a>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1> অদ্রিতা বীমা কেন্দ্র </h1>
        <p>
            Your trusted partner for insurance, financial security, and future planning. 
            We are committed to protecting what matters most to you and your family.
        </p>
    </section>

    <!-- Image marquee inserted after Adrita Bima Kendra -->
    <section class="image-marquee" aria-label="Gallery marquee">
        <div class="marquee-track">
            <!-- Replace these src URLs with your local images if you have them -->
            <img src="20251214_164738.jpg" alt="Image 1">
            <img src="20251214_121025.jpg" alt="Image 2">
            <img src="20251214_162537.jpg" alt="Image 3">
            <img src="20251214_115600[1].jpg" alt="Image 4">
            <img src="20251214_120739.jpg" alt="Image 5">
            <img src="20251214_120845.jpg" alt="Image 6">
            <img src="20251214_121445.jpg" alt="Image 7">
            <img src="20251214_172441.jpg" alt="Image 8">
            <!-- Duplicate for a smooth seamless loop -->
            <img src="20251214_164738.jpg" alt="Image 1">
            <img src="20251214_121025.jpg" alt="Image 2">
            <img src="20251214_162537.jpg" alt="Image 3">
            <img src="20251214_115600[1].jpg" alt="Image 4">
            <img src="20251214_120739.jpg" alt="Image 5">
            <img src="20251214_120845.jpg" alt="Image 6">
            <img src="20251214_121445.jpg" alt="Image 7">
            <img src="20251214_172441.jpg" alt="Image 8">
        </div>
    </section>

    <!-- Services Section -->
    <section class="services">
        <h2>Our Services</h2>
        <div class="service-box">
            <div class="service">
                <h3>Life Insurance</h3>
                <p>Secure your family’s future with reliable life insurance plans.</p>
            </div>
            <div class="service">
                <h3>Health Insurance</h3>
                <p>Comprehensive health coverage for peace of mind.</p>
            </div>
          <div class="service">
<h3>Car and Bike Insurance</h3>
<p>Legal requirement; secures futures; don't risk driving uninsured..</p>
</div>
      <div class="service">
<h3>Pan Card</h3>
<p>A PAN card is a unique 10-digit alphanumeric identifier issued by the Indian Income Tax Department, mandatory for financial transactions and taxation.</p>
</div>    
            <div class="service">
                <h3>Investment Plans</h3>
                <p>Smart investment solutions for long-term growth.</p>
            </div>
           <div class="service">
<h3>Income Tax</h3>
<p>Income Tax Filing is the annual report of your income and taxes to the government.</p>
</div>
        </div>
    </section>

    <!-- Footer -->
    <!-- Contact Modal -->
    <div id="contact-modal-overlay" class="modal-overlay" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="contact-modal-title">
            <button class="modal-close" id="contact-modal-close" aria-label="Close contact dialog">×</button>
            <div class="modal-header">
                <div class="modal-logo" aria-hidden="true">AB</div>
                <div>
                    <div id="contact-modal-title" class="modal-title">Adrita Bima Kendra</div>
                    <div style="font-size:12px;color:#222;opacity:.85">Contact & Location</div>
                </div>
            </div>
            <div class="modal-body">
                <div class="contact-item">
                    <strong>Location:</strong>
                    <div class="contact-links"><a href="https://maps.app.goo.gl/u9xBsvEgXcN1DxLc8?g_st=aw" target="_blank" rel="noopener">Open in Maps</a></div>
                </div>
                <div class="contact-item">
                    <strong>Address:</strong>
                    <div>Khalna, Hatpara Bazar, Jaypur Roar, Howrah 711413</div>
                </div>
                <div class="contact-item">
                    <strong>Mobile:</strong>
                    <div><a href="tel:9474862701">9474862701</a></div>
                </div>
                <div class="contact-item">
                    <strong>Email:</strong>
                    <div><a href="mailto:adritabimakendra@gmail.com">adritabimakendra@gmail.com</a></div>
                </div>
            </div>
        </div>
    </div>
        <!-- SIIP / Lumpsum Calculator -->
        <section class="calc-section" aria-label="Investment calculator">
            <div class="calc-header">
                <div class="calc-title">SIIP / Lumpsum Calculator <span class="approx-badge">Approximate</span></div>
                <div style="font-size:13px;color:#666">Choose mode and enter values to calculate returns</div>
            </div>

            <div class="calc-grid">
                <div class="calc-card">
                    <!-- Section 1: Mode toggle -->
                    <label>Mode</label>
                    <div class="toggle-wrap" role="tablist" aria-label="Calculator mode">
                        <button type="button" class="toggle-btn active" id="mode-siip" aria-pressed="true">SIIP</button>
                        <button type="button" class="toggle-btn" id="mode-lumpsum" aria-pressed="false">Lumpsum</button>
                    </div>

                    <!-- Section 2: Amount (monthly for SIIP or lump sum) -->
                    <div style="margin-top:12px;">
                        <label id="amount-label">Monthly Investment (₹)</label>
                        <input type="number" id="amount-input" min="0" step="any" value="1000" aria-labelledby="amount-label">
                    </div>

                    <!-- Section 3: Expected return p.a. -->
                    <div style="margin-top:12px;">
                        <label>Expected Return (P.A.) %</label>
                        <input type="number" id="rate-input" min="0" step="any" value="12">
                    </div>

                    <!-- Section 4: Time period in years -->
                    <div style="margin-top:12px;">
                        <label>Time Period (Years)</label>
                        <input type="number" id="years-input" min="0" step="any" value="10">
                    </div>

                    <div class="calc-actions">
                        <button class="btn btn-ghost" id="reset-btn">Reset</button>
                    </div>
                </div>

                <div class="calc-card">
                    <!-- Section 6: Results -->
                    <label>Results</label>
                    <div style="margin-top:8px;">
                        <div class="result-item"><div>Total Invested</div><div class="result-value" id="invested-val">₹0.00</div></div>
                        <div class="result-item"><div>Total Gain</div><div class="result-value" id="gain-val">₹0.00</div></div>
                        <div class="result-item"><div>Total Fund Value</div><div class="result-value" id="total-val">₹0.00</div></div>
                        <div class="result-item"><div>Absolute Return</div><div class="result-value" id="abs-return">0.00%</div></div>
                    </div>

                    <!-- Simple bar chart -->
                    <div class="chart-wrap" aria-hidden="false">
                        <div class="chart-row">
                            <div class="chart-label">Total Invested</div>
                            <div class="chart-bar-bg"><div id="invested-bar" class="chart-bar"></div></div>
                            <div class="chart-value" id="invested-label">₹0.00</div>
                        </div>
                        <div class="chart-row">
                            <div class="chart-label">Total Gain</div>
                            <div class="chart-bar-bg"><div id="gain-bar" class="chart-bar gain"></div></div>
                            <div class="chart-value" id="gain-label">₹0.00</div>
                        </div>
                    </div>

                    <!-- 3D-style Donut Pie -->
                    <div class="pie-wrap" aria-hidden="false">
                        <div class="pie-card">
                            <svg class="pie-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Investment pie chart">
                                <defs>
                                    <linearGradient id="gInvest" x1="0%" x2="100%" y1="0%" y2="0%">
                                        <stop offset="0%" stop-color="#ffd700" />
                                        <stop offset="100%" stop-color="#ffcf33" />
                                    </linearGradient>
                                    <linearGradient id="gGain" x1="0%" x2="100%" y1="0%" y2="0%">
                                        <stop offset="0%" stop-color="#8bc34a" />
                                        <stop offset="100%" stop-color="#4caf50" />
                                    </linearGradient>
                                </defs>
                                <!-- background ring -->
                                <circle cx="60" cy="60" r="44" fill="none" stroke="#f1f3f5" stroke-width="20"></circle>
                                <!-- gain slice (drawn first, sits below invested) -->
                                <circle id="pie-gain" cx="60" cy="60" r="44" fill="none" stroke="url(#gGain)" stroke-width="20" stroke-linecap="butt" transform="rotate(-90 60 60)"></circle>
                                <!-- invested slice (on top) -->
                                <circle id="pie-invest" cx="60" cy="60" r="44" fill="none" stroke="url(#gInvest)" stroke-width="20" stroke-linecap="butt" transform="rotate(-90 60 60)"></circle>
                                <!-- subtle highlight to create '3D' rim -->
                                <ellipse cx="60" cy="56" rx="36" ry="8" fill="rgba(255,255,255,0.16)"></ellipse>
                            </svg>
                            <div>
                                <div class="pie-center">
                                    <div class="pie-total" id="pie-total">₹0.00</div>
                                    <div class="pie-sub" id="pie-perc">0.0% Gain</div>
                                </div>
                                <div class="pie-shadow" aria-hidden="true"></div>
                            </div>
                        </div>
                    </div>
                
                </div>
            </div>
        </section>

        <footer>
            <script>
                // Calculator logic for SIIP and Lumpsum
                (function(){
                    const modeSiipBtn = document.getElementById('mode-siip');
                    const modeLumpBtn = document.getElementById('mode-lumpsum');
                    const amountInput = document.getElementById('amount-input');
                    const amountLabel = document.getElementById('amount-label');
                    const rateInput = document.getElementById('rate-input');
                    const yearsInput = document.getElementById('years-input');
                    const resetBtn = document.getElementById('reset-btn');
                    const investedVal = document.getElementById('invested-val');
                    const gainVal = document.getElementById('gain-val');
                    const totalVal = document.getElementById('total-val');
                    const investedBar = document.getElementById('invested-bar');
                    const gainBar = document.getElementById('gain-bar');
                    const investedLabel = document.getElementById('invested-label');
                    const gainLabel = document.getElementById('gain-label');
                    const pieInvest = document.getElementById('pie-invest');
                    const pieGain = document.getElementById('pie-gain');
                    const pieTotal = document.getElementById('pie-total');
                    const piePerc = document.getElementById('pie-perc');

                    let mode = 'SIIP';

                    function setMode(m){
                        mode = m;
                        if(m === 'SIIP'){
                            modeSiipBtn.classList.add('active'); modeSiipBtn.setAttribute('aria-pressed','true');
                            modeLumpBtn.classList.remove('active'); modeLumpBtn.setAttribute('aria-pressed','false');
                            amountLabel.textContent = 'Monthly Investment (₹)';
                            amountInput.placeholder = 'Enter monthly amount';
                        } else {
                            modeLumpBtn.classList.add('active'); modeLumpBtn.setAttribute('aria-pressed','true');
                            modeSiipBtn.classList.remove('active'); modeSiipBtn.setAttribute('aria-pressed','false');
                            amountLabel.textContent = 'Lumpsum Investment (₹)';
                            amountInput.placeholder = 'Enter lumpsum amount';
                        }
                        // recalc on mode change
                        calculate();
                    }

                    function fmt(v){
                        return '₹' + Number(v).toLocaleString(undefined, {minimumFractionDigits:2, maximumFractionDigits:2});
                    }

                    function calculate(){
                        const P = parseFloat(amountInput.value) || 0;
                        const rAnnual = parseFloat(rateInput.value) || 0;
                        const years = parseFloat(yearsInput.value) || 0;

                        if(mode === 'SIIP'){
                            const n = Math.max(0, Math.round(years * 12));
                            const i = rAnnual / 100 / 12; // monthly rate
                            let fv;
                            if(i === 0){
                                fv = P * n;
                            } else {
                                // Use annuity-due formula (contributions at beginning of each period)
                                fv = P * (Math.pow(1 + i, n) - 1) / i * (1 + i);
                            }
                            const invested = P * n;
                            const gain = fv - invested;
                            const absReturn = invested > 0 ? (fv / invested - 1) * 100 : 0;
                            investedVal.textContent = fmt(invested);
                            gainVal.textContent = fmt(gain);
                            totalVal.textContent = fmt(fv);
                            document.getElementById('abs-return').textContent = absReturn.toFixed(2) + '%';
                            // update bars
                            const maxVal = Math.max(invested, gain, 1);
                            investedBar.style.width = Math.round((invested / maxVal) * 100) + '%';
                            gainBar.style.width = Math.round((gain / maxVal) * 100) + '%';
                            investedLabel.textContent = fmt(invested);
                            gainLabel.textContent = fmt(gain);
                            // update pie (donut)
                            const total = Math.max(fv, 1);
                            const r = 44;
                            const C = 2 * Math.PI * r;
                            const investLen = Math.max(0, Math.min(C * (invested / total), C));
                            const gainLen = Math.max(0, Math.min(C * (gain / total), C));
                            pieInvest.style.strokeDasharray = investLen + ' ' + (C - investLen);
                            pieInvest.style.strokeDashoffset = 0;
                            pieGain.style.strokeDasharray = gainLen + ' ' + (C - gainLen);
                            pieGain.style.strokeDashoffset = -investLen;
                            pieTotal.textContent = fmt(fv);
                            piePerc.textContent = absReturn.toFixed(2) + '% Return';
                        } else {
                            // Lumpsum
                            const t = years;
                            const r = rAnnual / 100;
                            let fv;
                            if(r === 0){ fv = P; }
                            else { fv = P * Math.pow(1 + r, t); }
                            const invested = P;
                            const gain = fv - invested;
                            const absReturn = invested > 0 ? (fv / invested - 1) * 100 : 0;
                            investedVal.textContent = fmt(invested);
                            gainVal.textContent = fmt(gain);
                            totalVal.textContent = fmt(fv);
                            document.getElementById('abs-return').textContent = absReturn.toFixed(2) + '%';
                            // update bars
                            const maxVal2 = Math.max(invested, gain, 1);
                            investedBar.style.width = Math.round((invested / maxVal2) * 100) + '%';
                            gainBar.style.width = Math.round((gain / maxVal2) * 100) + '%';
                            investedLabel.textContent = fmt(invested);
                            gainLabel.textContent = fmt(gain);
                            // update pie
                            const total2 = Math.max(fv, 1);
                            const r2 = 44;
                            const C2 = 2 * Math.PI * r2;
                            const investLen2 = Math.max(0, Math.min(C2 * (invested / total2), C2));
                            const gainLen2 = Math.max(0, Math.min(C2 * (gain / total2), C2));
                            pieInvest.style.strokeDasharray = investLen2 + ' ' + (C2 - investLen2);
                            pieInvest.style.strokeDashoffset = 0;
                            pieGain.style.strokeDasharray = gainLen2 + ' ' + (C2 - gainLen2);
                            pieGain.style.strokeDashoffset = -investLen2;
                            pieTotal.textContent = fmt(fv);
                            piePerc.textContent = absReturn.toFixed(2) + '% Return';
                        }
                    }

                    // Event bindings
                    modeSiipBtn.addEventListener('click', () => setMode('SIIP'));
                    modeLumpBtn.addEventListener('click', () => setMode('LUMPSUM'));
                    resetBtn.addEventListener('click', () => {
                        // Clear input fields
                        amountInput.value = '';
                        rateInput.value = '';
                        yearsInput.value = '';
                        // Clear results
                        investedVal.textContent = fmt(0);
                        gainVal.textContent = fmt(0);
                        totalVal.textContent = fmt(0);
                        document.getElementById('abs-return').textContent = '0.00%';
                        // Reset chart bars and labels
                        if(investedBar) investedBar.style.width = '0%';
                        if(gainBar) gainBar.style.width = '0%';
                        if(investedLabel) investedLabel.textContent = fmt(0);
                        if(gainLabel) gainLabel.textContent = fmt(0);
                        // Reset pie
                        try {
                            const r0 = 44;
                            const C0 = 2 * Math.PI * r0;
                            if(pieInvest) { pieInvest.style.strokeDasharray = '0 ' + C0; pieInvest.style.strokeDashoffset = 0; }
                            if(pieGain) { pieGain.style.strokeDasharray = '0 ' + C0; pieGain.style.strokeDashoffset = 0; }
                            if(pieTotal) pieTotal.textContent = fmt(0);
                            if(piePerc) piePerc.textContent = '0.00% Return';
                        } catch(e){}
                        // Set focus back to amount for convenience
                        amountInput.focus();
                    });

                    // live update on input change
                    [amountInput, rateInput, yearsInput].forEach(el => el.addEventListener('input', calculate));

                    // init
                    setMode('SIIP');
                    calculate();
                })();
            </script>
        <p>© 2025 Adrita Bima Kendra | All Rights Reserved</p>
    </footer>
</footer>

    <script src="script.js"></script>
</body>
</html>
